APP_NAME=MemorialTube API
ENV=local
LOG_LEVEL=INFO
STORAGE_ROOT=data/storage

DATABASE_URL=postgresql+psycopg2://memorialtube:memorialtube@postgres:5432/memorialtube
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_WORKER_POOL=solo
CELERY_WORKER_CONCURRENCY=1
PUBLIC_BASE_URL=http://127.0.0.1:8000

# Docker 실행 시 기본값(ffmpeg)을 사용합니다.
# 로컬 실행에서 시스템 ffmpeg가 없으면 ./bin/ffmpeg 로 설정하세요.
FFMPEG_PATH=ffmpeg
TARGET_WIDTH=1600
TARGET_HEIGHT=900
TARGET_FPS=24
OUTPUT_PIXEL_FORMAT=yuv420p
OUTPUT_VIDEO_CODEC=libx264
STRICT_SAFETY_CHECKS=true
OUTPAINT_MIN_WIDTH_FOR_GENERATION=640
OUTPAINT_MAX_ATTEMPTS=1
CANVAS_BACKGROUND_STYLE=cover
CANVAS_BACKGROUND_BLUR_RADIUS=22
CANVAS_EDGE_BLEND_PX=24
OUTPAINT_PROVIDER=auto
OUTPAINT_MODEL_ID=stable-diffusion-v1-5/stable-diffusion-inpainting
OUTPAINT_DEVICE=auto
OUTPAINT_PROMPT=clean memorial photo background extension, natural scene continuity, soft light, seamless, no extra animals
OUTPAINT_NEGATIVE_PROMPT=extra animal, duplicate pet, distorted subject, text, watermark, harsh border
OUTPAINT_GUIDANCE_SCALE=7.0
OUTPAINT_NUM_INFERENCE_STEPS=8
OUTPAINT_FAST_MAX_SIDE=512
# OUTPAINT_SEED=42

ANIMAL_DETECTOR_PROVIDER=auto
ANIMAL_DETECTOR_MODEL=yolov8n.pt
ANIMAL_DETECTOR_CONFIDENCE_THRESHOLD=0.25
ANIMAL_DETECTOR_DEVICE=auto

TRANSITION_MAX_ATTEMPTS=2
TRANSITION_PROVIDER=auto
TRANSITION_MODEL_ID=runwayml/stable-diffusion-v1-5
TRANSITION_DEVICE=auto
TRANSITION_GUIDANCE_SCALE=7.0
TRANSITION_NUM_INFERENCE_STEPS=24
TRANSITION_STRENGTH=0.35
TRANSITION_GENERATION_WIDTH=800
TRANSITION_GENERATION_HEIGHT=450
TRANSITION_GENERATION_STEP=8
TRANSITION_ALLOWED_EXTRA_ANIMALS=0
TRANSITION_SAFETY_SAMPLE_STEP=8
